const express=require("express")
const router=express.Router();
const User=require('../modules/user')

router.post("/register",async(req,res)=>{
    const newuser=new User({name:req.body.name,email:req.body.email,password:req.body.password})

    try{
        const user=await newuser.save()
        res.send('User Register SucessFully')
    }catch(error){
        return res.status(400).json({error});
    }
});

router.post("/login",async(req,res)=>{
    const {email,password}=req.body
   try{
    const user=await User.findone({email:email,password:password})
    if(user){
        res.send(user)  
    } else{
        return res.status(400).json({message:'Login Failed'})
     }
}catch(error){
    return res.status(400).json({error})
   }
});

module.exports=router;

  [
    {
      "name": "Jigarthanda Double X",
      "Certificate":"UA",
     "Language": ["Tamil","Hindi","Telghu","Kannada"],
     "Rating":83,
     "Threater":["LA CINEMA MARIS COMPLEX RGB LASER:","LA Cinema Sona Mina RGB Laser:","Megaster Cinemas:Premium Large Format(PLF)ATMOS","Cauvery Cinemas A?C Dolby 7.2","Saroja Cinemas @K A/C Ariyamangalam:","Mariyam Cinemas A/C 4K:","Shanthi Cinemas A/C 4K DOLBY ATMOS:","Sri Venkatesa Cinemas A/C Dolby Atmos"]
   },
    {
     "name": "Leo",
     "Certificate":"UA",
     "Language": ["Tamil","Hindi","Telghu","Kannada"],
     "Rating":86,
     "Threater":["LA Cinema Sona Mina RGB Laser:"]
  },
  {
    "name": "Napolean",
    "Certificate":"A",
   "Language": ["English"],
   "Rating":93,
    "Threater":["Megaster Cinemas:Premium Large Format(PLF)ATMOS","Cauvery Cinemas A?C Dolby 7.2","Saroja Cinemas @K A/C Ariyamangalam:","Mariyam Cinemas A/C 4K:","Shanthi Cinemas A/C 4K DOLBY ATMOS:","Sri Venkatesa Cinemas A/C Dolby Atmos"]
 },
  {
   "name": "Animal",
   "Certificate":"A",
   "Language": ["Hindi","Tamil","Telghu"],
   "Rating":"New",
   "Threater":["Cauvery Cinemas A?C Dolby 7.2","Saroja Cinemas @K A/C Ariyamangalam:","Mariyam Cinemas A/C 4K:","Shanthi Cinemas A/C 4K DOLBY ATMOS:","Sri Venkatesa Cinemas A/C Dolby Atmos"]
},
{
    "name": "Kaathal-The Core",
    "Certificate":"UA",
    "Language": ["Malayalam"],
    "Rating":90,
    "Threater":["Saroja Cinemas @K A/C Ariyamangalam:","Mariyam Cinemas A/C 4K:","Shanthi Cinemas A/C 4K DOLBY ATMOS:","Sri Venkatesa Cinemas A/C Dolby Atmos"]
 }
 
]
  